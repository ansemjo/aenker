<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Home - ansemjo/aenker</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="css/theme.css" type="text/css" />
  <link rel="stylesheet" href="css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> ansemjo/aenker</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1 current">
		
    <a class="current" href="index.html">Home</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#aenker">aenker</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#installation">INSTALLATION</a></li>
        
            <li><a class="toctree-l3" href="#usage">USAGE</a></li>
        
            <li><a class="toctree-l3" href="#documentation">DOCUMENTATION</a></li>
        
            <li><a class="toctree-l3" href="#disclaimer">DISCLAIMER</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="SPECIFICATION.html">Specification</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Manual</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="aenker.html">aenker</a>
                </li>
                <li class="">
                    
    <a class="" href="aenker_seal.html">Encrypt files</a>
                </li>
                <li class="">
                    
    <a class="" href="aenker_open.html">Decrypt files</a>
                </li>
                <li class="">
                    
    <a class="" href="aenker_keygen.html">Generate new key</a>
                </li>
                <li class="">
                    
    <a class="" href="aenker_pubkey.html">Print public key</a>
                </li>
                <li class="">
                    
    <a class="" href="aenker_docs_completion.html">Generate autocompletion</a>
                </li>
                <li class="">
                    
    <a class="" href="aenker_docs_manual.html">Generate manpages</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ansemjo/aenker</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="aenker">aenker</h1>
<p><a href="https://travis-ci.com/ansemjo/aenker"><img alt="Build Status" src="https://travis-ci.com/ansemjo/aenker.svg?branch=master" /></a>
<a href="https://www.codefactor.io/repository/github/ansemjo/aenker"><img alt="CodeFactor" src="https://www.codefactor.io/repository/github/ansemjo/aenker/badge" /></a>
<a href="https://codebeat.co/projects/github-com-ansemjo-aenker-master"><img alt="codebeat badge" src="https://codebeat.co/badges/0a98d937-6695-4dc1-ba6f-c439226bea01" /></a></p>
<p><code>aenker</code> is a simple commandline utility to encrypt files to a public key (<a href="https://cr.yp.to/ecdh.html">Curve25519</a>) with an
authenticated encryption scheme (<a href="https://tools.ietf.org/html/rfc7539">ChaCha20Poly1305</a>). This is basically an <a href="https://en.wikipedia.org/wiki/Integrated_Encryption_Scheme">ECIES</a>.</p>
<p>The input is split into smaller chunks internally and is encrypted &amp; authenticated individually.
Padding and concatenation is done similarly to <a href="https://rwc.iacr.org/2018/Slides/Hansen.pdf">InterMAC</a>. The key used for encryption is derived
with <a href="https://tools.ietf.org/html/rfc5869">HKDF</a> using <a href="https://blake2.net/">Blake2b</a> after performing anonymous Diffie-Hellman with a given public and
a random ephemeral private key. All this is further described in the
<a href="SPECIFICATION.html">specification</a>.</p>
<p><img alt="" src="assets/overview.png" /></p>
<p>Authenticated encryption authenticates the ciphertext upon decryption and combined with the above
construction any chunk reordering, bit-flips or even truncation can be detected and are shown as
errors. Only ciphertext that has been successfully decrypted and authenticated is ever written to
the output. The chunking still alleviates the need to fit the entire file into memory at once or do
two passes over all data. Thus you can also encrypt files of many gigabytes.</p>
<h2 id="installation">INSTALLATION</h2>
<h3 id="install-directly-with-go">Install directly with <code>go</code>:</h3>
<pre><code>go get -u github.com/ansemjo/aenker
</code></pre>
<h3 id="install-a-binary-release-package">Install a binary release / package</h3>
<p>Download a release <a href="https://github.com/ansemjo/aenker/releases">from GitHub</a> (replace 
<code>$VERSION</code> with the desired release):</p>
<pre><code>curl -Lo aenker https://github.com/ansemjo/aenker/releases/download/$VERSION/aenker-linux-amd64
chmod +x aenker
./aenker --help
</code></pre>
<h3 id="compile-from-sources">Compile from sources:</h3>
<p>Download a <a href="https://github.com/ansemjo/aenker/archive/master.tar.gz">tarball from GitHub</a> and
use the included <code>makefile</code> to build a static binary and embed proper version information:</p>
<pre><code>cd aenker-master/
make
make install PREFIX=~/.local
</code></pre>
<h2 id="usage">USAGE</h2>
<h3 id="key-generation">Key Generation</h3>
<p>First, you need a keypair. To generate a new random keypair use the builtin keygenerator:</p>
<pre><code>aenker keygen [-f where/to/store/seckey]
</code></pre>
<p>Without any arguments, this will store the key in the default location <code>~/.local/share/aenker/aenkerkey</code>
and your public key will be printed to the terminal. Send your <strong>public</strong> key to anyone who wants to
encrypt data for you and keep your private key .. well, private.</p>
<p>If you want to display your public key later or calculate the public key to a given private key, you
can use the subcommand <code>show</code>:</p>
<pre><code>aenker show [-k path/to/seckey]
</code></pre>
<p><strong>Note:</strong> aenker only performs anonymous Diffie-Hellman and the keys are not signed or certified. To
protect against man-in-the-middle attacks you should transfer the key over a secure channel or verify
the integrity on a different channel.</p>
<h3 id="encryption-decryption">Encryption / Decryption</h3>
<p>Encrypt a simple message using the public key with the subcommand <code>seal</code>:</p>
<pre><code>echo 'Hello, World!' | aenker seal -p lGLD...AFBo= &gt; message.ae
</code></pre>
<p>Decrypt messages with the <code>open</code> subcommand. If your key is stored at the default location you can
decrypt a message by simply piping the encrypted message into aenker:</p>
<pre><code>aenker open [-k path/to/seckey] &lt; message.ae
</code></pre>
<p>Input and output files can be specified with the <code>-i</code> and <code>-o</code> flags respectively. The terms <code>seal</code>
and <code>open</code> are commonly used in the context of AEADs but you can also use their aliases <code>encrypt</code>
and <code>decrypt</code> if you prefer:</p>
<pre><code>aenker decrypt -i documents.tar.ae -k mykey | tar -xf -
</code></pre>
<p>The key flags <code>-p</code>/<code>--peer</code> and <code>-k</code>/<code>--key</code> accept the base64-encoded keys on the commandline or
the name of a file which contains the key alone on one line. Specifically, the first match to the
regular expression <code>/^[A-Za-z0-9+/]{43}=$/</code> is used, so you can add as many comments as you like to
your key files.</p>
<p>Specifying the key on the commandline is convenient for public keys but should be avoided for
private keys:</p>
<pre><code>... | aenker seal -p lGLDUgFvp8TSwJ17VC9k0/T9mNWvfGoJ42zauMkAFBo= &gt; message.ae
</code></pre>
<h3 id="advanced-key-generation">Advanced Key Generation</h3>
<p>Generally, Curve25519 - and thus aenker - accepts any 32 byte value as a key. You could generate a
private key by any other means and then only calculate the public key to distribute it. Possibilities
include:</p>
<ul>
<li>reading 32 bytes of system randomness from <code>/dev/urandom</code></li>
<li>use an implementation of Argon2i to derive a key from a password, i.e.
  <a href="https://github.com/ansemjo/stdkdf">ansemjo/stdkdf</a></li>
<li>...</li>
</ul>
<h2 id="documentation">DOCUMENTATION</h2>
<p>All of the commands output a nicely formatted help message, so you can use <code>help</code> at any time:</p>
<pre><code>aenker help
</code></pre>
<p>If you prefer, you can instead install and read manpages with:</p>
<pre><code>aenker docs man -d ~/.local/share/man/
man aenker
</code></pre>
<p>Completion scripts for your shell can be generated and sourced with:</p>
<pre><code> . &lt;(aenker docs completion)
</code></pre>
<h3 id="file-detection">File Detection</h3>
<p>Append this piece to your <code>~/.magic</code> file:</p>
<pre><code>0 string aenker\xe7\x9e aenker encrypted file
!:mime application/octet-stream
</code></pre>
<p>And <code>file(1)</code> should detect encrypted files as <code>aenker encrypted file</code>.</p>
<h2 id="disclaimer">DISCLAIMER</h2>
<p>Please be advised that I am not a professional cryptographer. This is merely a hobby of mine which I
hope can be useful to you.</p>
<pre><code>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="SPECIFICATION.html" class="btn btn-neutral float-right" title="Specification">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
        <span style="margin-left: 15px"><a href="SPECIFICATION.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>

</body>
</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2019-07-12 09:54:46
-->
